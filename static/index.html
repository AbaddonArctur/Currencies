<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>NBRB Live Rates</title>
    <style>
        body { font-family: sans-serif; background: #0f172a; color: #e5e7eb; }
        .card { background: #020617; padding: 1rem; margin: 1rem; border-radius: 8px; }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); }
        h1 { text-align: center; }
    </style>
</head>
<body>
<h1>Курсы валют НБРБ (BYN)</h1>

<div class="grid">
    <div class="card">USD: <span id="USD">—</span></div>
    <div class="card">EUR: <span id="EUR">—</span></div>
    <div class="card">RUB: <span id="RUB">—</span></div>
    <div class="card">CNY: <span id="CNY">—</span></div>
</div>

<script>
    const ws = new WebSocket(`ws://${location.host}/ws/rates`);

    ws.onmessage = (event) => {
        const data = JSON.parse(event.data);
        for (const [k, v] of Object.entries(data)) {
            document.getElementById(k).innerText = v.toFixed(4);
        }
    };
</script>
</body>
</html>